<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style>
        .btn-secondary {
            background-color: #bbc0c4
        }
        
        .btn-primary {
            background-color: #80bdff
        }
        
        .btn-danger {
            background-color: #ec939c
        }
        
        .btn-off {
            opacity: 0.25
        }
        
        .today {
            border-style: dashed;
            border-width: 3px;
        }
        
        .curSelect {
            outline: thick ridge #26da4866;
        }
    </style>
</head>

<body>
    <div class="container-fluid" style="margin: auto; font-size: x-large;">
        <div class="row">
            <div class="col-10"><span id="month"></span>, <span id="year"></span></div>
            <div class="col-1"><button type="button" class="btn btn-block" onclick="monthPrev()">&#60</button></div>
            <div class="col-1"><button type="button" class="btn btn-block" onclick="monthNext()">&#62</button></div>
        </div>
    </div>
    <table style="width:100%; table-layout:fixed">
        <tr>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Sun</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Mon</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Tue</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Wed</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Thu</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Fri</button></th>
            <th><button type="button" class="btn btn-block" style="opacity:1" disabled>Sat</button></th>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w0d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w0d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w1d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w1d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w2d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w2d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w3d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w3d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w4d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w4d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
        <tr>
            <td><button type="radio" name="date" id="w5d0" class="btn btn-danger btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d1" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d2" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d3" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d4" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d5" class="btn btn-secondary btn-block" onclick="dateClick(this)">.</button></td>
            <td><button type="radio" name="date" id="w5d6" class="btn btn-primary btn-block" onclick="dateClick(this)">.</button></td>
        </tr>
    </table>

    <script>
        var today = new Date(),
            maxMonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
            months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        const setCalMonth = (calYear, calMonth, calStart) => {
            var curDate = 0,
                monthMax = calMonth != 1 ? maxMonths[calMonth] : calYear % 4 != 0 ? 28 : calYear % 100 != 0 ? 29 : calYear % 400 != 0 ? 28 : 29,
                preDate = (calMonth == 0 ? 31 : calMonth != 2 ? maxMonths[calMonth - 1] : calYear % 4 != 0 ? 28 : calYear % 100 != 0 ? 29 : calYear % 400 != 0 ? 28 : 29) - calStart,
                postDate = 0;
            console.log(calYear, calMonth, calStart, monthMax, preDate);
            for (w = 0; w <= 5; w++) {
                for (d = 0; d <= 6; d++) {
                    if (curDate != 0 && curDate < monthMax) {
                        document.getElementById("w" + w + "d" + d).innerHTML = ++curDate;
                        if (document.getElementById("w" + w + "d" + d).classList.contains("btn-off")) document.getElementById("w" + w + "d" + d).classList.remove("btn-off");
                    } else if (curDate == 0 && calStart == d) {
                        document.getElementById("w" + w + "d" + d).innerHTML = ++curDate;
                        if (document.getElementById("w" + w + "d" + d).classList.contains("btn-off")) document.getElementById("w" + w + "d" + d).classList.remove("btn-off");
                    } else if (curDate == 0) {
                        document.getElementById("w" + w + "d" + d).innerHTML = ++preDate;
                        if (!document.getElementById("w" + w + "d" + d).classList.contains("btn-off")) document.getElementById("w" + w + "d" + d).classList.add("btn-off");
                    } else {
                        document.getElementById("w" + w + "d" + d).innerHTML = ++postDate;
                        if (!document.getElementById("w" + w + "d" + d).classList.contains("btn-off")) document.getElementById("w" + w + "d" + d).classList.add("btn-off");
                    }
                    if (document.getElementById("w" + w + "d" + d).classList.contains("today")) document.getElementById("w" + w + "d" + d).classList.toggle("today");
                }
            }
            document.getElementById("month").innerHTML = months[calMonth];
            document.getElementById("year").innerHTML = calYear;
            if (today.getFullYear() == calYear && today.getMonth() == calMonth) {
                document.getElementById("w" + ~~(today.getDate() / 7) + "d" + today.getDay()).classList.add("today");
                if (typeof(curSelect) != "undefined") curSelect.classList.remove("curSelect");
                curSelect = document.getElementById("w" + ~~(today.getDate() / 7) + "d" + today.getDay());
                curSelect.classList.add("curSelect");
            } else {
                curSelect.classList.remove("curSelect");
                curSelect = document.getElementById("w0d" + calStart);
                curSelect.classList.add("curSelect");
            }
            return calStart;
        };
        var curStart = setCalMonth(today.getFullYear(), today.getMonth(), (today.getDate() - 1 - today.getDay()) % 7),
            curMonth = today.getMonth(),
            curYear = today.getFullYear();

        const monthNext = () => {
            var nextStart = (curStart + (curMonth != 1 ? maxMonths[curMonth] : curYear % 4 != 0 ? 28 : curYear % 100 != 0 ? 29 : curYear % 400 != 0 ? 28 : 29)) % 7;
            if (++curMonth > 11) curMonth = 0, ++curYear;
            setCalMonth(curYear, curMonth, nextStart);
            curStart = nextStart;
        }
        const monthPrev = () => {
            if (--curMonth < 0) curMonth = 11, --curYear;
            var prevStart = 7 + (curStart - (curMonth != 1 ? maxMonths[curMonth] : curYear % 4 != 0 ? 28 : curYear % 100 != 0 ? 29 : curYear % 400 != 0 ? 28 : 29)) % 7;
            setCalMonth(curYear, curMonth, prevStart);
            curStart = prevStart;
        }

        let url = "test.txt";

        fetch(url, {
                mode: "cors"
            })
            .then(function(response) {
                console.log(response);
            }).catch(function(error) {
                console.log('Request failed', error)
            });
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>

</html>
